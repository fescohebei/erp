(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4d8d"],{"3d28":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-drawer",{attrs:{message:"",visible:this.visible.show,width:650,destroyOnClose:!0,closable:!1},on:{close:t.onClose}},[e("template",{slot:"title"},[t._v("审批内容详情\n  ")]),e("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("姓名:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.Name))]),e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("所属部门:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.OriginatorDeptName))])],1),e("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("审批编号:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.BusinessId))]),e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("主题:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.Title))])],1),e("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("审批结果:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.ResultStr))]),e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("流程状态:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.StatusStr))])],1),e("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("发起时间:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.CreateTime))]),e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("完成时间:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.FinishTime))])],1),e("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("报销类别:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.报销类别))]),e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("确认状态:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(1==t.visible.detail.Confirmed?"已确认":"未确认"))])],1),1==t.visible.detail.Confirmed?e("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("确认人:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.ConfirmName))]),e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("确认时间:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.ConfirmedTime))])],1):t._e(),e("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:10}},[e("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("总金额:")]),e("a-col",{attrs:{span:6}},[t._v(t._s(t.visible.detail.总金额))])],1),e("a-divider",{attrs:{orientation:"left"}},[t._v("分摊情况")]),e("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,bordered:!1,pagination:!1,size:"middle",rowKey:"部门"}})],2)},s=[],l=(e("7514"),e("ac6a"),e("b775")),n=[{title:"分摊部门",dataIndex:"部门"},{title:"金额",dataIndex:"金额"}],r={props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,detail:{}},columns:n,dataSource:[]}},created:function(){var t=this;this.$watch("show",function(a,e){t.visible=a,t.visible.show&&t.init()})},methods:{init:function(){var t=this;l["a"].post("/api/Budget/Approve/ApproveDetail",{ProcessInstanceId:t.visible.detail.processInstanceId}).then(function(a){if(0===a.code){var e=new Array;a.data.forEach(function(a){t.visible.detail.Name=a.Name,t.visible.detail.OriginatorDeptName=a.OriginatorDeptName,t.visible.detail.BusinessId=a.BusinessId,t.visible.detail.Title=a.Title,t.visible.detail.ResultStr=a.ResultStr,t.visible.detail.StatusStr=a.StatusStr,t.visible.detail.CreateTime=a.CreateTime,t.visible.detail.FinishTime=a.FinishTime,t.visible.detail.ConfirmName=a.ConfirmName,t.visible.detail.ConfirmedTime=a.ConfirmedTime;var i=JSON.parse(a.FormComponentValues),s=i.find(function(t){return"报销类别"===t.Name}).Value;t.visible.detail.报销类别=s;var l=i.find(function(t){return"TableField"===t.ComponentType}).ExtValue,n=JSON.parse(l).statValue.find(function(t){return"总金额（元）"===t.label}).num;t.visible.detail.总金额=n+"元";i=JSON.parse(a.FormComponentValues);var r=i.find(function(t){return"部门分摊"===t.Name}).Value;JSON.parse(r).forEach(function(t){var a=t.rowValue.find(function(t){return"部门"===t.label}).value,i=t.rowValue.find(function(t){return"金额（元）"===t.label}).value;e.push({"部门":a,"金额":i})}),t.dataSource=e})}}).catch(function(t){console.log(t)})},onClose:function(){this.visible.show=!1,this.dataSource=[],this.refresh&&this.refresh()}}},o=r,c=e("2877"),d=Object(c["a"])(o,i,s,!1,null,null,null);a["default"]=d.exports}}]);