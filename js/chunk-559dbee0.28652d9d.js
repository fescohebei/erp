(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-559dbee0"],{"0bfb":function(e,t,n){"use strict";var i=n("cb7c");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"165b":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{message:"",visible:this.visible.show,width:750,destroyOnClose:!0,closable:!1},on:{close:e.onClose}},[n("template",{slot:"title"},[e._v("\n    催收工作详情\n  ")]),0==e.visible.detail.length?[n("div",{staticClass:"emptybox"},[n("a-icon",{staticClass:"empty",attrs:{type:"inbox"}}),n("br"),e._v("暂无数据\n    ")],1)]:[n("a-timeline",e._l(e.visible.detail,function(t){return n("a-timeline-item",{key:t.index},[n("p",[e._v(e._s(t.CreateDate)+" "),n("a-divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.visible.UserArray[t.Userid]))],1),n("p",[e._v("说明："+e._s(t.Explain))]),1==e.notInDingTalk?n("div",[e._v("附件： "),n("a-tag",{attrs:{color:"red"}},[e._v("此浏览器不支持预览，请到钉钉应用界面预览附件！")])],1):t.kfUpload||0!=t.kfUpload.length?[e._l(t.kfUpload,function(t,i){return[n("div",{key:i,staticClass:"fujian"},[e._v("\n              "+e._s(t.fileName)+" "),n("a-tag",{attrs:{color:"blue"},on:{click:function(n){return e.showFile(t)}}},[e._v("预览")])],1)]})]:n("div",[e._v("无")])],2)}),1)]],2)},a=[],o=(n("6b54"),n("ac6a"),n("b775")),c=n("c32d"),s=n.n(c),l={components:{},props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,id:{},detail:{},UserArray:{}},FormComponentValues:{},formSearch:{pageSize:5,current:1,total:0,next:!0},form:this.$form.createForm(this),drawer:{},modal:{outchange:{show:!1}},notInDingTalk:!1,SpaceId:"",SpaceIdNormal:"",SpaceIdApply:"",fescoMessage:{},ComProductLine:{},ComProductLineSmall:{},InvoiceType:{},Bank:{},RecPublishItemStatus:{},ReceiptInvoiceType:{},applytime:"",Attachments:[]}},created:function(){var e=this;this.$watch("show",function(t,n){e.visible=t,console.log(e.visible),e.visible.show&&e.init()})},methods:{init:function(){var e=this;e.visible.detail.forEach(function(e){e.kfUpload=JSON.parse(e["附件"])}),o["a"].post("/api/Dim/Enum/GetEnum",{Names:["ComProductLine","ComProductLineSmall","InvoiceType","Bank","ReceiptInvoiceType"]}).then(function(t){0===t.code&&(t.data.ComProductLine.forEach(function(t,n){e.ComProductLine[t.key]=t.text}),t.data.ComProductLineSmall.forEach(function(t,n){e.ComProductLineSmall[t.key]=t.text}),t.data.InvoiceType.forEach(function(t,n){e.InvoiceType[t.key]=t.text}),t.data.Bank.forEach(function(t,n){e.Bank[t.key]=t.text}),t.data.ReceiptInvoiceType.forEach(function(t,n){e.ReceiptInvoiceType[t.key]=t.text}))}).catch(function(e){console.log(e)}),"notInDingTalk"==dd.env.platform&&(e.notInDingTalk=!0),o["a"].post("/api/DingTalk/GetCustomSpace",{Domain:"Bill"}).then(function(t){var n=t,i=n.data.Spaceid;0===n.code&&(e.SpaceIdNormal=i)}).catch(function(e){console.log(e)}),o["a"].get("/api/DingTalk/CspaceInfo").then(function(t){var n=t,i=n.data.SpaceId;0===n.code&&(e.SpaceIdApply=i)}).catch(function(e){console.log(e)}),o["a"].post("/api/DingTalk/GetSign",{}).then(function(t){e.fescoMessage=t.data,dd.config({agentId:t.data.AgentId,corpId:t.data.corpId,timeStamp:t.data.timeStamp,nonceStr:t.data.nonceStr,signature:t.data.signature,type:0,jsApiList:["biz.cspace.saveFile","biz.util.uploadAttachment","biz.cspace.preview","biz.cspace.chooseSpaceDir"]})}).catch(function(e){console.log(e)})},onClose:function(){this.visible.show=!1,this.FormComponentValues={},this.visible.detail=[],this.refresh&&this.refresh()},showFile:function(e){var t=this,n="";dd.ready(function(){var i=s()("2021-02-09").format("YYYY-MM-DD"),a=s()(t.applytime).format("YYYY-MM-DD"),o=s()(a).diff(i,"day");console.log(o),n=o<0?t.SpaceIdApply:t.SpaceIdNormal,console.log(n),dd.biz.cspace.preview({corpId:t.fescoMessage.corpId,spaceId:n.toString(),fileId:e.fileId,fileName:e.fileName,fileSize:e.fileSize,fileType:e.fileType,onSuccess:function(){},onFail:function(e){}})})}}},r=l,p=(n("693f"),n("2877")),f=Object(p["a"])(r,i,a,!1,null,null,null);t["default"]=f.exports},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"693f":function(e,t,n){"use strict";var i=n("eb03"),a=n.n(i);a.a},"6b54":function(e,t,n){"use strict";n("3846");var i=n("cb7c"),a=n("0bfb"),o=n("9e1e"),c="toString",s=/./[c],l=function(e){n("2aba")(RegExp.prototype,c,e,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?l(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?a.call(e):void 0)}):s.name!=c&&l(function(){return s.call(this)})},eb03:function(e,t,n){}}]);