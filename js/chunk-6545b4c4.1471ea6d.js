(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6545b4c4","chunk-2d0b9db1"],{"274e":function(e,t,a){"use strict";var i=a("8d34"),r=a.n(i);r.a},3570:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:"添加/修改",placement:"right",closable:!1,maskClosable:!1,visible:this.visible.show,width:700}},[a("a-card",{attrs:{bordered:!1}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["GYSGuid",{initialValue:e.visible.supplierdetail.GYSGuid}],expression:"['GYSGuid',{initialValue:visible.supplierdetail.GYSGuid}]"}],attrs:{type:"hidden"}})],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"供应商名称",labelCol:{span:8},wrapperCol:{span:16}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["GYSName",{initialValue:e.visible.supplierdetail.GYSName,rules:e.AFormImportRules.iptInput}],expression:"['GYSName',{initialValue:visible.supplierdetail.GYSName,rules:AFormImportRules.iptInput}]"}]})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"联系人",labelCol:{span:8},wrapperCol:{span:16}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Linkman",{initialValue:e.visible.supplierdetail.Linkman}],expression:"['Linkman',{initialValue:visible.supplierdetail.Linkman}]"}]})],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"联系电话",labelCol:{span:8},wrapperCol:{span:16}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Phone",{initialValue:e.visible.supplierdetail.Phone}],expression:"['Phone',{initialValue:visible.supplierdetail.Phone}]"}]})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"地址",labelCol:{span:8},wrapperCol:{span:16}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Address",{initialValue:e.visible.supplierdetail.Address}],expression:"['Address',{initialValue:visible.supplierdetail.Address}]"}]})],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"服务项目",labelCol:{span:8},wrapperCol:{span:16}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ServiceItem",{initialValue:e.visible.supplierdetail.ServiceItem}],expression:"['ServiceItem',{initialValue:visible.supplierdetail.ServiceItem}]"}]})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"状态",labelCol:{span:8},wrapperCol:{span:16}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["IsStatus",{initialValue:e.visible.supplierdetail.IsStatusStr,rules:e.AFormImportRules.iptSelect}],expression:"['IsStatus',{initialValue: visible.supplierdetail.IsStatusStr,rules:AFormImportRules.iptSelect }]"}],attrs:{placeholder:"请选择",allowClear:!0}},e._l(e.dim.Brand,function(t){return a("a-select-option",{key:t.key},[e._v(e._s(t.str))])}),1)],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"创建时间",labelCol:{span:8},wrapperCol:{span:16}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["CreateTime",{initialValue:e.visible.supplierdetail.CreateTime,rules:e.AFormImportRules.iptDate}],expression:"['CreateTime',{initialValue: visible.supplierdetail.CreateTime,rules:AFormImportRules.iptDate }]"}]})],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"备注",labelCol:{span:4},wrapperCol:{span:20}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["Remark",{initialValue:e.visible.supplierdetail.Remark}],expression:"['Remark',{initialValue:visible.supplierdetail.Remark }]"}],attrs:{placeholder:"备注",rows:4}})],1)],1)],1)],1)],1),a("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:e.onClose}},[e._v("取消")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:e.handleSubmit}},[e._v("提交")]),null==e.visible.id?a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleSubmit("next")}}},[e._v("提交并继续录入")]):e._e()],1)],1)},r=[],s=a("b775"),l={props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,supplierdetail:{GYSGuid:""}},dim:{Brand:[{key:"1",str:"正常"},{key:"2",str:"停用"}]},form:this.$form.createForm(this),AFormImportRules:{iptDate:[{required:!0,message:"请选择"}],iptInput:[{required:!0,message:"请输入"}],iptSelect:[{required:!0,message:"请选择"}],UnitPrice:[{required:!0,message:"请输入"}]}}},watch:{show:function(e,t){var a=this;null==a.visible.supplierdetail&&(a.visible.supplierdetail={GYSGuid:""}),null!=e.supplierdetail.CreateTime&&(e.supplierdetail.CreateTime=moment(e.supplierdetail.CreateTime)),a.visible=e,e.show&&a.init()}},methods:{onClose:function(){this.visible.show=!1,this.refresh&&this.refresh(),this.form.resetFields()},init:function(){},handleSubmit:function(e){var t=this;this.form.validateFields(function(a,i){if(!a){var r=i;"正常"==r.IsStatus&&(r.IsStatus=1),"停用"==r.IsStatus&&(r.IsStatus=2),s["a"].post("/api/Supplies/supplier/SaveFormNewsupplier",r).then(function(a){var i=a;i.code>0?t.$message.error(i.msg):("next"===e?(t.form.resetFields(),t.refresh&&t.refresh()):t.onClose(),t.$message.success(i.msg))}).catch(function(e){console.log(e)})}})}}},o=l,n=a("2877"),u=Object(n["a"])(o,i,r,!1,null,null,null);t["default"]=u.exports},"4dd8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{layout:"horizontal"}},[a("div",{class:e.advanced?null:"fold"},[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:8}},[a("a-form-item",{attrs:{label:"供应商名称",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:e.formSearch.GYSName,callback:function(t){e.$set(e.formSearch,"GYSName",t)},expression:"formSearch.GYSName"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",[a("a-button",{attrs:{type:"primary"},on:{click:e.init}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.edit({key:null})}}},[e._v("添加")])],1)],1)],1)],1)])],1),a("a-table",{attrs:{columns:e.columns,dataSource:e.dataSource,pagination:!1,rowKey:"GYSGuid"},scopedSlots:e._u([{key:"IsStatus",fn:function(t){return[1==t.IsStatus?a("span",[e._v(e._s(t.IsStatusStr))]):e._e(),2==t.IsStatus?a("span",[e._v(e._s(t.IsStatusStr))]):e._e()]}},{key:"action",fn:function(t,i){return a("span",{staticStyle:{"text-align":"right"}},[a("a-dropdown",[a("a",{staticClass:"ant-dropdown-link"},[e._v("\n              更多\n              "),a("a-icon",{attrs:{type:"down"}})],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{on:{click:function(t){return e.isstop(i)}}},[e._v("停用")]),a("a-menu-item",{on:{click:function(t){return e.edit(i)}}},[e._v("修改")])],1)],1)],1)}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:e.formSearch.pageSize,total:e.formSearch.total,current:e.formSearch.current},on:{change:e.pagechange}})],1)],2)],1)],1),a("drawer-edit",{attrs:{show:e.drawer.edit,refresh:e.init}})],1)},r=[],s=(a("ac6a"),a("b775")),l=a("c32d"),o=a.n(l),n=a("3570"),u=[{title:"供应商名称",dataIndex:"GYSName"},{title:"联系人",dataIndex:"Linkman"},{title:"联系电话",dataIndex:"Phone"},{title:"地址",dataIndex:"Address"},{title:"服务项目",dataIndex:"ServiceItem"},{title:"备注",dataIndex:"Remark"},{title:"状态",scopedSlots:{customRender:"IsStatus"}},{title:"创建时间",dataIndex:"CreateTime"},{title:"更新时间",dataIndex:"UpdateTime"},{title:"操作",scopedSlots:{customRender:"action"}}],p={components:{DrawerEdit:n["default"]},data:function(){return{advanced:!0,columns:u,formSearch:{pageSize:10,current:1,total:0},dataSource:[],drawer:{edit:{show:!1}},modal:{exporttransfer:{show:!1}}}},mounted:function(){var e=this;e.init()},methods:{init:function(){this.pagechange(1)},pagechange:function(e){var t=this;t.formSearch.current=e,s["a"].post("/api/Supplies/Supplier/List",t.formSearch).then(function(e){0===e.code&&(e.data.forEach(function(e){e.CreateTime=o()(e.CreateTime).format("YYYY-MM-DD"),e.UpdateTime=o()(e.UpdateTime).format("YYYY-MM-DD")}),t.dataSource=e.data,t.formSearch.total=e.count)}).catch(function(e){console.log(e)})},edit:function(e){this.drawer.edit={show:!0,supplierdetail:e}},isstop:function(e){var t=this;s["a"].post("/api/Supplies/Supplier/IsStop",{GYSGuid:e.GYSGuid}).then(function(e){var a=e;0===e.code&&(t.$message.success(a.msg),window.location.reload())}).catch(function(e){console.log(e)})},exportbalanceout:function(){this.modal.exporttransfer={show:!0}}}},d=p,c=(a("274e"),a("2877")),m=Object(c["a"])(d,i,r,!1,null,null,null);t["default"]=m.exports},"8d34":function(e,t,a){}}]);