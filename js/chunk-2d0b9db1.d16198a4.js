(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9db1"],{3570:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-drawer",{attrs:{title:"添加/修改",placement:"right",closable:!1,maskClosable:!1,visible:this.visible.show,width:700}},[t("a-card",{attrs:{bordered:!1}},[t("a-form",{attrs:{form:e.form}},[t("a-form-item",[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["GYSGuid",{initialValue:e.visible.supplierdetail.GYSGuid}],expression:"['GYSGuid',{initialValue:visible.supplierdetail.GYSGuid}]"}],attrs:{type:"hidden"}})],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"供应商名称",labelCol:{span:8},wrapperCol:{span:16}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["GYSName",{initialValue:e.visible.supplierdetail.GYSName,rules:e.AFormImportRules.iptInput}],expression:"['GYSName',{initialValue:visible.supplierdetail.GYSName,rules:AFormImportRules.iptInput}]"}]})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"联系人",labelCol:{span:8},wrapperCol:{span:16}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Linkman",{initialValue:e.visible.supplierdetail.Linkman}],expression:"['Linkman',{initialValue:visible.supplierdetail.Linkman}]"}]})],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"联系电话",labelCol:{span:8},wrapperCol:{span:16}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Phone",{initialValue:e.visible.supplierdetail.Phone}],expression:"['Phone',{initialValue:visible.supplierdetail.Phone}]"}]})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"地址",labelCol:{span:8},wrapperCol:{span:16}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Address",{initialValue:e.visible.supplierdetail.Address}],expression:"['Address',{initialValue:visible.supplierdetail.Address}]"}]})],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"服务项目",labelCol:{span:8},wrapperCol:{span:16}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ServiceItem",{initialValue:e.visible.supplierdetail.ServiceItem}],expression:"['ServiceItem',{initialValue:visible.supplierdetail.ServiceItem}]"}]})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"状态",labelCol:{span:8},wrapperCol:{span:16}}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["IsStatus",{initialValue:e.visible.supplierdetail.IsStatusStr,rules:e.AFormImportRules.iptSelect}],expression:"['IsStatus',{initialValue: visible.supplierdetail.IsStatusStr,rules:AFormImportRules.iptSelect }]"}],attrs:{placeholder:"请选择",allowClear:!0}},e._l(e.dim.Brand,function(a){return t("a-select-option",{key:a.key},[e._v(e._s(a.str))])}),1)],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"创建时间",labelCol:{span:8},wrapperCol:{span:16}}},[t("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["CreateTime",{initialValue:e.visible.supplierdetail.CreateTime,rules:e.AFormImportRules.iptDate}],expression:"['CreateTime',{initialValue: visible.supplierdetail.CreateTime,rules:AFormImportRules.iptDate }]"}]})],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:24}},[t("a-form-item",{attrs:{label:"备注",labelCol:{span:4},wrapperCol:{span:20}}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["Remark",{initialValue:e.visible.supplierdetail.Remark}],expression:"['Remark',{initialValue:visible.supplierdetail.Remark }]"}],attrs:{placeholder:"备注",rows:4}})],1)],1)],1)],1)],1),t("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[t("a-button",{on:{click:e.onClose}},[e._v("取消")]),t("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:e.handleSubmit}},[e._v("提交")]),null==e.visible.id?t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(a){return e.handleSubmit("next")}}},[e._v("提交并继续录入")]):e._e()],1)],1)},r=[],l=t("b775"),s={props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,supplierdetail:{GYSGuid:""}},dim:{Brand:[{key:"1",str:"正常"},{key:"2",str:"停用"}]},form:this.$form.createForm(this),AFormImportRules:{iptDate:[{required:!0,message:"请选择"}],iptInput:[{required:!0,message:"请输入"}],iptSelect:[{required:!0,message:"请选择"}],UnitPrice:[{required:!0,message:"请输入"}]}}},watch:{show:function(e,a){var t=this;null==t.visible.supplierdetail&&(t.visible.supplierdetail={GYSGuid:""}),null!=e.supplierdetail.CreateTime&&(e.supplierdetail.CreateTime=moment(e.supplierdetail.CreateTime)),t.visible=e,e.show&&t.init()}},methods:{onClose:function(){this.visible.show=!1,this.refresh&&this.refresh(),this.form.resetFields()},init:function(){},handleSubmit:function(e){var a=this;this.form.validateFields(function(t,i){if(!t){var r=i;"正常"==r.IsStatus&&(r.IsStatus=1),"停用"==r.IsStatus&&(r.IsStatus=2),l["a"].post("/api/Supplies/supplier/SaveFormNewsupplier",r).then(function(t){var i=t;i.code>0?a.$message.error(i.msg):("next"===e?(a.form.resetFields(),a.refresh&&a.refresh()):a.onClose(),a.$message.success(i.msg))}).catch(function(e){console.log(e)})}})}}},o=s,p=t("2877"),n=Object(p["a"])(o,i,r,!1,null,null,null);a["default"]=n.exports}}]);