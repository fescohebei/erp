(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3b9e826","chunk-14c81220","chunk-2d0b5a5d"],{"1a90":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"导出",destroyOnClose:!0,visible:this.visible.show,maskClosable:!0},on:{ok:t.handleSubmit,cancel:t.onClose}},[a("a-form",{attrs:{form:t.form},on:{submit:t.handleSubmit}},[a("a-form-item",{attrs:{label:"状态",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["BXStatus",{rules:t.AFormImportRules.select}],expression:"['BXStatus',{rules:AFormImportRules.select}]"}],attrs:{allowClear:!0}},t._l(t.visible.BXStatusList,function(e){return a("a-select-option",{key:e.key},[t._v("\n            "+t._s(e.text)+"\n          ")])}),1)],1),a("a-form-item",{attrs:{label:"报销类型",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["BXClassCode",{rules:t.AFormImportRules.select}],expression:"['BXClassCode',{rules:AFormImportRules.select}]"}],attrs:{allowClear:!0}},t._l(t.visible.BXClassList,function(e){return a("a-select-option",{key:e.code},[t._v("\n            "+t._s(e.name)+"\n          ")])}),1)],1),a("a-form-item",{attrs:{label:"时间范围",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["Time",{rules:t.AFormImportRules.iptInputReq}],expression:"['Time',{rules:AFormImportRules.iptInputReq}]"}],attrs:{format:"YYYY-MM-DD"},on:{change:t.changeTime}})],1)],1)],1)},o=[],n=(a("b775"),{props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,assetstransferdetail:{AssetsName:""},BXClassList:[]},form:this.$form.createForm(this),AFormImportRules:{iptInputReq:[{required:!0,message:"请输入"}],select:[{required:!0,message:"请输入"}]},formSearch:{BXStatus:"",BXClassCode:"",BeginDate:"",EndDate:""}}},watch:{show:function(t,e){var a=this;a.visible=t,t.show&&a.init()}},methods:{onClose:function(){this.visible.show=!1,this.refresh&&this.refresh(),this.form.resetFields()},init:function(){},handleSubmit:function(){var t=this,e=this;this.form.validateFields(function(a,s){if(!a){e.formSearch.BXStatus=s.BXStatus,e.formSearch.BXClassCode=s.BXClassCode;var o=t.formSearch;console.log(o);var n=document.createElement("a");n.href="/api/Shebao/Baoxiao/ExportPay?BeginDate="+o.BeginDate+"&EndDate="+o.EndDate+"&BXStatus="+(s.BXStatus?s.BXStatus:"")+"&BXClassCode="+(s.BXClassCode?s.BXClassCode:""),n.click(),e.onClose()}})},changeTime:function(t){this.formSearch.BeginDate=moment(t[0]._d).format("YYYY-MM-DD"),this.formSearch.EndDate=moment(t[1]._d).format("YYYY-MM-DD")}}}),r=n,i=a("2877"),l=Object(i["a"])(r,s,o,!1,null,null,null);e["default"]=l.exports},7110:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{layout:"horizontal"}},[a("div",{class:t.advanced?null:"fold"},[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:5}},[a("a-form-item",{attrs:{label:"公司名称",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.ComName,callback:function(e){t.$set(t.formSearch,"ComName",e)},expression:"formSearch.ComName"}})],1)],1),a("a-col",{attrs:{md:5}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.IDCard,callback:function(e){t.$set(t.formSearch,"IDCard",e)},expression:"formSearch.IDCard"}})],1)],1),a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"状态",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-select",{model:{value:t.formSearch.BXStatus,callback:function(e){t.$set(t.formSearch,"BXStatus",e)},expression:"formSearch.BXStatus"}},t._l(t.BXStatusList,function(e){return a("a-select-option",{key:e.key,attrs:{disabled:e.key<32||38==e.key}},[t._v("\n                      "+t._s(e.text)+"\n                    ")])}),1)],1)],1),a("a-col",{attrs:{span:10}},[a("a-form-item",[a("a-button",{attrs:{type:"primary"},on:{click:t.init}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.exportExcel}},[t._v("导出")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.importExcel}},[t._v("津贴导入")])],1)],1)],1)],1)])],1),t.selectedRowKeys.length>0&&52==t.formSearch.BXStatus?a("div",[a("div",{staticClass:"operator"},[a("a-button",{staticStyle:{"margin-right":"8px"},attrs:{type:"danger"},on:{click:t.applyPay}},[t._v(t._s(1==t.selectedRowKeys.length?"支付申请":"批量支付申请"))]),t._v("\n          已选择 \n              "),a("a",{staticStyle:{"font-weight":"600"}},[t._v(t._s(t.selectedRowKeys.length))]),t._v(" 项\n              "),a("a",{on:{click:t.unselect}},[t._v("清空")])],1)]):t._e(),a("a-table",{attrs:{"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"SBBXGuid"},scopedSlots:t._u([{key:"BXStatus",fn:function(e,s){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n          "+t._s(t.BXStatus[s.BXStatus])+"\n        ")])}},{key:"PaymentTo",fn:function(e,s){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n          "+t._s(t.PaymentTo[s.PaymentTo])+"\n        ")])}},{key:"EventCityCode",fn:function(e,s){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n          "+t._s(t.city[s.EventCityCode])+"\n        ")])}},{key:"BXClassCode",fn:function(e,s){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n          "+t._s(t.BXClass[s.BXClassCode])+"\n        ")])}},{key:"BXSubClassCode",fn:function(e,s){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n          "+t._s(t.BXSubClass[s.BXSubClassCode])+"\n        ")])}},{key:"CreateDate",fn:function(e,s){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n          "+t._s(t.moment(s.CreateDate).format("YYYY-MM-DD"))+"\n        ")])}},{key:"action",fn:function(e,s){return a("span",{staticStyle:{"text-align":"right"}},[a("a",{on:{click:function(e){return t.detail(s)}}},[t._v("详情")])])}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:t.formSearch.pageSize,total:t.formSearch.total,current:t.formSearch.current},on:{change:t.pagechange}})],1)],2)],1)],1),a("drawer-detail",{attrs:{show:t.drawer.detail,refresh:t.pagerefresh}}),a("drawer-export-shebao",{attrs:{show:t.drawer.exportShebao,refresh:t.pagerefresh}}),a("a-modal",{attrs:{title:"支付申请",visible:t.showLayer,"confirm-loading":t.confirmLoading,width:620},on:{ok:t.handleOk,cancel:t.handleCancel}},[a("div",[a("div",{staticClass:"confirmText"},[t._v("确认提起下面所选人员得支付申请？")]),a("a-table",{attrs:{columns:t.selectColumns,dataSource:t.selectedRows,pagination:!1,rowKey:"SBBXGuid",size:"middle"},scopedSlots:t._u([{key:"BXClassCode",fn:function(e,s){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n          "+t._s(t.BXClass[s.BXClassCode])+"\n        ")])}},{key:"BXSubClassCode",fn:function(e,s){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n          "+t._s(t.BXSubClass[s.BXSubClassCode])+"\n        ")])}}])})],1)]),a("drawer-import",{attrs:{show:t.drawer.import,refresh:t.init}})],1)},o=[],n=(a("7f7f"),a("ac6a"),a("b775")),r=a("403d"),i=a("1a90"),l=a("c32d"),c=a.n(l),u=a("e2d2"),d=[{title:"状态",scopedSlots:{customRender:"BXStatus"}},{title:"公司名称",dataIndex:"ComName"},{title:"姓名",dataIndex:"姓名"},{title:"身份证号",dataIndex:"身份证号"},{title:"付款方向",scopedSlots:{customRender:"PaymentTo"}},{title:"联系方式",dataIndex:"LinkInfo"},{title:"发生城市",scopedSlots:{customRender:"EventCityCode"}},{title:"社保报销类型",scopedSlots:{customRender:"BXClassCode"}},{title:"报销类型子类",scopedSlots:{customRender:"BXSubClassCode"}},{title:"创建时间",scopedSlots:{customRender:"CreateDate"}},{title:"操作",scopedSlots:{customRender:"action"}}],h=[{title:"姓名",dataIndex:"姓名"},{title:"身份证号",dataIndex:"身份证号"},{title:"社保报销类型",scopedSlots:{customRender:"BXClassCode"}},{title:"报销类型子类",scopedSlots:{customRender:"BXSubClassCode"}}],m={components:{DrawerDetail:r["default"],DrawerExportShebao:i["default"],DrawerImport:u["default"]},data:function(){return{advanced:!0,columns:d,selectColumns:h,formSearch:{pageSize:10,current:1,total:0,IDCard:"",ComName:"",BXStatus:32},dataSource:[],drawer:{detail:{show:!1},exportShebao:{show:!1},import:{show:!1}},PaymentTo:{},BXStatus:{},BXStatusList:[],BXClass:{},BXSubClass:{},city:{},ShebaoOrderItemStatus:{},ShebaoOrderStatus:{},sbType:{},moment:c.a,selectedRowKeys:[],selectedRows:[],showLayer:!1,confirmLoading:!1,BXClassList:[]}},mounted:function(){var t=this;t.init()},methods:{init:function(){var t=this;n["a"].post("/api/Dim/Enum/DimDecode",{Names:["city"]}).then(function(e){0===e.code&&(t.city=e.data.city)}).catch(function(t){console.log(t)}),n["a"].post("/api/Dim/Enum/GetEnum",{Names:["PaymentTo","BXStatus","ShebaoOrderItemStatus","ShebaoOrderStatus","sbType"]}).then(function(e){var a=e;0===a.code&&(a.data.PaymentTo.forEach(function(e,a){t.PaymentTo[e.key]=e.text}),t.BXStatusList=a.data.BXStatus,a.data.BXStatus.forEach(function(e,a){t.BXStatus[e.key]=e.text}),t.pagechange(1),a.data.ShebaoOrderStatus.forEach(function(e,a){t.ShebaoOrderStatus[e.key]=e.text}),a.data.sbType.forEach(function(e,a){t.sbType[e.key]=e.text}),a.data.ShebaoOrderItemStatus.forEach(function(e,a){t.ShebaoOrderItemStatus[e.key]=e.text}),t.pagechange(1))}).catch(function(t){console.log(t)}),n["a"].post("/api/Dim/Enum/GetDim",{Names:["city","BXClass","BXSubClass"]}).then(function(e){0===e.code&&(t.BXClassList=e.data.BXClass,e.data.BXClass.forEach(function(e,a){t.BXClass[e.code]=e.name}),e.data.BXSubClass.forEach(function(e,a){t.BXSubClass[e.code]=e.name}),e.data.city.forEach(function(e,a){t.city[e.code]=e.name}))}).catch(function(t){console.log(t)})},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(t){var e=this;e.formSearch.current=t,e.$loading.open(),n["a"].post("/api/Shebao/Baoxiao/List",e.formSearch).then(function(t){e.$loading.close(),0===t.code&&(e.dataSource=t.data.rows,e.formSearch.total=t.count)}).catch(function(t){e.$loading.close(),console.log(t)})},detail:function(t){this.drawer.detail={show:!0,id:t.SBBXGuid,PaymentTo:this.PaymentTo,BXStatus:this.BXStatus,BXClass:this.BXClass,BXSubClass:this.BXSubClass,city:this.city}},onSelectChange:function(t,e){this.selectedRowKeys=t,this.selectedRows=e},applyPay:function(){this.showLayer=!0},unselect:function(){this.selectedRowKeys=[],this.selectedRows=[]},handleOk:function(t){var e=this;n["a"].post("/api/Shebao/Baoxiao/RequestPay",{SBBXGuids:e.selectedRowKeys}).then(function(t){0===t.code&&(e.showLayer=!1,e.$message.success(t.msg),e.pagerefresh(),e.unselect()),t.code>0&&e.$message.error(t.msg)}).catch(function(t){console.log(t)})},handleCancel:function(t){this.showLayer=!1},exportExcel:function(){var t=this;t.drawer.exportShebao={show:!0,BXStatusList:t.BXStatusList,BXClassList:t.BXClassList}},importExcel:function(){this.drawer.import={show:!0,title:"津贴导入"}}}},p=m,f=(a("d721"),a("2877")),S=Object(f["a"])(p,s,o,!1,null,null,null);e["default"]=S.exports},"947e":function(t,e,a){"use strict";var s=a("9e2a"),o=a.n(s);o.a},"9e2a":function(t,e,a){},ae55:function(t,e,a){},d721:function(t,e,a){"use strict";var s=a("ae55"),o=a.n(s);o.a},e2d2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-drawer",{attrs:{title:t.visible.title,visible:this.visible.show,width:400,destroyOnClose:!0},on:{close:t.onClose}},[a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("a-row",{attrs:{gutter:11}},[a("a-col",{attrs:{md:24}},[a("a-form-item",{attrs:{label:"选择文件",labelCol:{span:7},wrapperCol:{span:17}}},[a("a-spin",{attrs:{tip:"上传中",spinning:t.spinning}},[a("a-upload-dragger",{attrs:{name:"file",multiple:!1,action:"/api/Shebao/Baoxiao/Import",accept:".xls, .xlsx",showUploadList:!1,withCredentials:!0,beforeUpload:t.uploadbefore,data:t.receivedtype,disabled:t.fileDis},on:{change:t.uploadchange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),a("p",{staticClass:"ant-upload-text"},[t._v("\n                    将文件拖到此处，或\n                    "),a("a-tag",{attrs:{color:"#2db7f5"}},[t._v("点击上传")])],1),a("p",{staticClass:"ant-upload-hint"},[t._v("只能上传xls/xlsx文件")])])],1)],1)],1)],1)],1)],1)},o=[],n={props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{spinning:!1,visible:{show:!1,title:"",ReceiptType:"",BankList:[]},form:this.$form.createForm(this),AFormImportRules:{iptSelect:[{required:!0,message:"请选择"}]},receivedtype:{ReceiptType:""},errdatarows:[],fileDis:!1}},created:function(){var t=this;this.$watch("show",function(e,a){t.visible=e,t.spinning=!1})},methods:{onClose:function(){this.visible.show=!1,this.receivedtype={ReceiptType:""},this.fileDis=!0,this.refresh&&this.refresh()},uploadbefore:function(t){var e=this;this.form.validateFields(function(t,a){var s=!t;s&&(e.receivedtype.ReceiptType=a.ReceiptType,e.spinning=!0)})},uploadchange:function(t){var e=t.file,a=t.fileList;t.event;if("uploading"!==e.status&&console.log(e,a),"done"==e.status){var s=e.response;s.code>0?(this.$message.error(s.msg),s.data&&(this.errdatarows=s.data)):(this.$message.success("导入成功"),this.onClose())}this.spinning=!1},ReceiptChange:function(t){this.receivedtype.ReceiptType=t,this.fileDis=!1}}},r=n,i=(a("947e"),a("2877")),l=Object(i["a"])(r,s,o,!1,null,null,null);e["default"]=l.exports}}]);