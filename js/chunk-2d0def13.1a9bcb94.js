(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0def13"],{8896:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-drawer",{attrs:{message:"",visible:this.visible.show,width:950,destroyOnClose:!0,closable:!1},on:{close:e.onClose}},[r("template",{slot:"title"},[e._v("\n    客户明细\n  ")]),r("a-table",{attrs:{columns:e.columns,dataSource:e.dataSource,pagination:!1,rowKey:"ComProductLineGuid"},scopedSlots:e._u([{key:"CreatDate",fn:function(t,a){return r("span",{staticStyle:{"text-align":"right"}},[""!=a.PullTime?[e._v(e._s(a.PullTime))]:e._e(),""==a.PullTime?[e._v(e._s(a.CreatDate))]:e._e()],2)}},{key:"isOperate",fn:function(t,a){return r("span",{staticStyle:{"text-align":"right"}},[r("a-tag",{attrs:{color:1==a.Opened?"red":0==a.Cooperated?"blue":1==a.Cooperated?"green":""}},[1==a.Opened?[e._v("公海")]:e._e(),0==a.Opened?[e._v(e._s(a.CooperatedText))]:e._e()],2)],1)}},{key:"CityCode",fn:function(t,a){return r("span",{staticStyle:{"text-align":"right"}},[e._v("\n          "+e._s(e.cityList[a.CityCode])+"\n        ")])}}])},[r("template",{slot:"footer"},[r("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:e.formSearch.pageSize,total:e.formSearch.total,current:e.formSearch.current},on:{change:e.pagechange}})],1)],2),r("a-row",{staticStyle:{padding:"10px 0"},attrs:{gutter:24}})],2)},o=[],n=r("b775"),i=r("c32d"),s=r.n(i),c=[{title:"是否合作",scopedSlots:{customRender:"isOperate"}},{title:"公司名称",dataIndex:"ComName"},{title:"产品线",dataIndex:"ProductLineText"},{title:"城市",scopedSlots:{customRender:"CityCode"}},{title:"归属人",dataIndex:"UseridText"},{title:"入库时间",dataIndex:"PullTime"}],l={components:{},props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{columns:c,visible:{show:!1,pFormSearch:{},SaleStage:""},formSearch:{pageSize:10,current:1,total:0},form:this.$form.createForm(this),drawer:{},modal:{},cityList:{},moment:s.a,dataSource:[]}},created:function(){var e=this,t=this;this.$watch("show",function(r,a){e.visible=r,console.log(e.visible),e.visible.show&&(e.formSearch.DepIds=t.visible.pFormSearch.DepIds,e.formSearch.ProductLines=t.visible.pFormSearch.ProductLines,e.formSearch.Userids=t.visible.pFormSearch.Userids,e.formSearch.Begin=t.visible.pFormSearch.Begin,e.formSearch.End=t.visible.pFormSearch.End,console.log(e.formSearch),e.init())})},methods:{init:function(){var e=this;e.initPage()},onClose:function(){this.visible.show=!1,this.dataSource=[],this.refresh&&this.refresh()},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(e){var t=this,r={};console.log(t.formSearch),t.formSearch.current=e,r.pageSize=t.formSearch.pageSize,r.DepIds=t.formSearch.DepIds,r.ProductLines=t.formSearch.ProductLines,r.Userids=t.formSearch.Userids,r.current=t.formSearch.current,null==t.formSearch.Begin?delete r.Begin:r.Begin=s()(t.formSearch.Begin).format("YYYY-MM-DD"),null==t.formSearch.End?delete r.End:r.End=s()(t.formSearch.End).format("YYYY-MM-DD"),r.SaleStage=t.visible.SaleStage,t.$loading.open(),n["a"].post("/api/Crm/Data/SalesFunnelDetail",r).then(function(e){t.$loading.close(),0===e.code?(t.dataSource=e.data.rows,t.formSearch.total=e.data.count):t.$message.error(e.msg)}).catch(function(e){t.$loading.close(),console.log(e)})}}},d=l,h=r("2877"),u=Object(h["a"])(d,a,o,!1,null,null,null);t["default"]=u.exports}}]);