(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ad8a"],{bcf9:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-drawer",{attrs:{title:"入库",placement:"right",closable:!1,maskClosable:!1,visible:this.visible.show,width:700}},[a("a-card",{attrs:{bordered:!1}},[a("a-form",{attrs:{form:t.form}},[a("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:24}},[a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("名称:")]),a("a-col",{attrs:{span:8}},[t._v(t._s(t.visible.goodsdetail.GoodsName))]),a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("品牌:")]),a("a-col",{attrs:{span:8}},[t._v(t._s(t.visible.goodsdetail.BrandName))])],1),a("a-row",{staticStyle:{padding:"8px 0"},attrs:{gutter:24}},[a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("大类:")]),a("a-col",{attrs:{span:8}},[t._v(t._s(t.visible.goodsdetail.ClassName))]),a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:4}},[t._v("小类:")]),a("a-col",{attrs:{span:8}},[t._v(t._s(t.visible.goodsdetail.SubclassName))])],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"单价",labelCol:{span:8},wrapperCol:{span:16}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["UnitPrice",{rules:t.AFormImportRules.UnitPrice}],expression:"['UnitPrice',{rules:AFormImportRules.UnitPrice}]"}],attrs:{addonAfter:"元"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"数量",labelCol:{span:8},wrapperCol:{span:16}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Amount",{rules:t.AFormImportRules.Amount}],expression:"['Amount',{rules:AFormImportRules.Amount}]"}],attrs:{addonAfter:t.visible.goodsdetail.UnitName}})],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"供应商",labelCol:{span:8},wrapperCol:{span:16}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["GYSGuid",{initialValue:t.visible.goodsdetail.GYSGuid,rules:t.AFormImportRules.iptSelect}],expression:"['GYSGuid',{initialValue: visible.goodsdetail.GYSGuid,rules:AFormImportRules.iptSelect }]"}],attrs:{placeholder:"请选择",allowClear:!0}},t._l(t.dim.GYSList,function(e){return a("a-select-option",{key:e.gysguid},[t._v(t._s(e.gysname))])}),1)],1)],1)],1),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"批次备注",labelCol:{span:4},wrapperCol:{span:20}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["Remarks"],expression:"['Remarks']"}],attrs:{placeholder:"备注",rows:4}})],1)],1)],1)],1)],1),a("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:t.onClose}},[t._v("取消")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:t.handleSubmit}},[t._v("提交")])],1)],1)},o=[],r=a("b775"),i={props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,goodsdetail:{GoodsName:"",ClassID:"",GYSGuid:""}},dim:{GYSlist:[]},form:this.$form.createForm(this),AFormImportRules:{UnitPrice:[{required:!0,message:"请输入"},{validator:this.checkPrice}],Amount:[{required:!0,message:"请输入"},{validator:this.checkAmount}],GYSGuid:[{required:!0,message:"请选择"}]}}},watch:{show:function(t,e){var a=this;a.visible=t,t.show&&(null==a.visible.goodsdetail&&(a.visible.goodsdetail={GoodsName:"",ClassID:"",GYSGuid:""}),a.init())}},methods:{onClose:function(){this.visible.show=!1,this.refresh&&this.refresh(),this.form.resetFields()},init:function(){var t=this;r["a"].post("/api/Dim/Group/GetGYSList").then(function(e){0===e.code&&(t.dim=e.data)}).catch(function(t){console.log(t)})},handleSubmit:function(){var t=this;this.form.validateFields(function(e,a){if(!e){var s=a;s.GoodsGuid=t.visible.id,r["a"].post("/api/Supplies/Goods/SaveFormBalanceAdd",s).then(function(e){var a=e;a.code>0?t.$message.error(a.msg):(t.onClose(),t.$message.success(a.msg))}).catch(function(t){console.log(t)})}})},checkPrice:function(t,e,a){var s=/^[0-9]*\.?[0-9]{0,2}$/;e>0&&s.test(e)?a():a("大于零且小数最多两位")},checkAmount:function(t,e,a){var s=/^[0-9]*$/;e>0&&s.test(e)?a():a("大于零的整数")}}},l=i,n=a("2877"),c=Object(n["a"])(l,s,o,!1,null,null,null);e["default"]=c.exports}}]);