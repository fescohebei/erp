(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d231207"],{eee6:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-drawer",{attrs:{title:"修改客户信息",placement:"right",closable:!1,maskClosable:!1,visible:this.visible.show,width:600}},[t("a-form",{attrs:{form:e.form}},[t("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"公司id",labelCol:{span:5},wrapperCol:{span:16}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ComGuid",{initialValue:e.visible.assetsdetail.company.ComGuid,rules:e.AFormImportRules.iptInput}],expression:"['ComGuid',{initialValue:visible.assetsdetail.company.ComGuid,rules:AFormImportRules.iptInput}]"}],attrs:{disabled:!0}})],1),t("a-form-item",{attrs:{label:"公司名称",labelCol:{span:5},wrapperCol:{span:16}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ComName",{initialValue:e.visible.assetsdetail.company.ComName,rules:e.AFormImportRules.iptInputReq}],expression:"['ComName',{initialValue:visible.assetsdetail.company.ComName,rules:AFormImportRules.iptInputReq}]"}]})],1),t("a-form-item",{attrs:{label:"组织机构代码证",labelCol:{span:5},wrapperCol:{span:16}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Code",{initialValue:e.visible.assetsdetail.company.Code,rules:e.AFormImportRules.iptInput}],expression:"['Code',{initialValue:visible.assetsdetail.company.Code,rules:AFormImportRules.iptInput}]"}]})],1),t("a-form-item",{attrs:{label:"网址",labelCol:{span:5},wrapperCol:{span:16}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Url",{initialValue:e.visible.assetsdetail.company.Url,rules:e.AFormImportRules.iptInput}],expression:"['Url',{initialValue:visible.assetsdetail.company.Url,rules:AFormImportRules.iptInput}]"}]})],1),t("a-form-item",{attrs:{label:"城市",labelCol:{span:5},wrapperCol:{span:16}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["cityname",{initialValue:e.visible.assetsdetail.company.cityname,rules:e.AFormImportRules.iptInputReq}],expression:"['cityname',{initialValue:visible.assetsdetail.company.cityname,rules:AFormImportRules.iptInputReq}]"}],attrs:{readOnly:"",placeholder:"请输入"},on:{click:e.chooseArea}})],1),t("a-form-item",{attrs:{label:"地址",labelCol:{span:5},wrapperCol:{span:16}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Address",{initialValue:e.visible.assetsdetail.company.Address,rules:e.AFormImportRules.iptInputReq}],expression:"['Address',{initialValue:visible.assetsdetail.company.Address,rules:AFormImportRules.iptInputReq}]"}]})],1),t("a-form-item",{attrs:{label:"客户性质",labelCol:{span:5},wrapperCol:{span:16}}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["Nature",{initialValue:e.visible.assetsdetail.company.Nature,rules:e.AFormImportRules.iptSelectReq}],expression:"['Nature',{initialValue:visible.assetsdetail.company.Nature,rules:AFormImportRules.iptSelectReq }]"}],attrs:{placeholder:"请选择",allowClear:!0}},e._l(e.Nature,function(a){return t("a-select-option",{key:a.key},[e._v(e._s(a.text))])}),1)],1),t("a-form-item",{attrs:{label:"客户规模",labelCol:{span:5},wrapperCol:{span:16}}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["Scale",{initialValue:e.visible.assetsdetail.company.Scale,rules:e.AFormImportRules.iptSelectReq}],expression:"['Scale',{initialValue:visible.assetsdetail.company.Scale,rules:AFormImportRules.iptSelectReq }]"}],attrs:{placeholder:"请选择",allowClear:!0}},e._l(e.Scale,function(a){return t("a-select-option",{key:a.key},[e._v(e._s(a.text))])}),1)],1),t("a-form-item",{attrs:{label:"行业",labelCol:{span:5},wrapperCol:{span:16}}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["Industry",{initialValue:e.visible.assetsdetail.company.Industry,rules:e.AFormImportRules.iptSelectReq}],expression:"['Industry',{initialValue:visible.assetsdetail.company.Industry,rules:AFormImportRules.iptSelectReq }]"}],attrs:{placeholder:"请选择",allowClear:!0}},e._l(e.Industry,function(a){return t("a-select-option",{key:a.key},[e._v(e._s(a.text))])}),1)],1),t("a-form-item",{attrs:{label:"备注",labelCol:{span:5},wrapperCol:{span:16}}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["Remarkspro",{initialValue:e.visible.assetsdetail.company.Remarks}],expression:"['Remarkspro',{initialValue:visible.assetsdetail.company.Remarks}]"}],attrs:{placeholder:"备注",rows:4}})],1)],1),t("a-row",{staticStyle:{padding:"10px 0"},attrs:{gutter:24}}),t("div",{style:{position:"absolute",bottom:"0",right:"0",width:"100%",padding:"10px 16px",borderTop:"1px solid #e8e8e8",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[t("a-button",{on:{click:e.onClose}},[e._v("取消")]),t("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:e.handleSubmit}},[e._v("提交")])],1),t("chooseArea",{attrs:{openDrawer:e.drawer.area.show},on:{Closearea:e.areaClose,Surearea:e.areaSure}})],1)},r=[],i=(t("7f7f"),t("b775")),l=(t("61f7"),t("1269")),o={components:{chooseArea:l["a"]},props:{show:{type:Object,default:{show:!1}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,assetsdetail:{company:{},line:{},cityList:{}}},dim:{Brand:[]},Source:[],Scale:[],Nature:[],Industry:[],form:this.$form.createForm(this),AFormImportRules:{iptDate:[{required:!0,message:"请选择"}],iptInput:[{message:"请输入"}],iptInputReq:[{required:!0,message:"请输入"}],iptSelect:[{required:!1,message:"请选择"}],iptSelectReq:[{required:!0,message:"请选择"}],Mobile:[{required:!1,message:"请输入手机号"},{validator:this.ConfirmMobile}]},drawer:{area:{show:!1}},options:[],city:{}}},watch:{show:function(e,a){var t=this;t.visible=e,null==t.visible.assetsdetail&&(t.visible.assetsdetail={ComGuid:""}),e.show&&t.init()}},methods:{onClose:function(){this.visible.show=!1,this.refresh&&this.refresh(),this.form.resetFields()},init:function(){var e=this;e.city.value=e.visible.assetsdetail.company.CityCode,i["a"].post("/api/Dim/Enum/GetEnum",{Names:["Source","Scale","Nature","Industry"]}).then(function(a){0===a.code&&(e.Source=a.data.Source,e.Industry=a.data.Industry,e.Scale=a.data.Scale,e.Nature=a.data.Nature)}).catch(function(e){console.log(e)})},handleSubmit:function(e){var a=this,t=this;this.form.validateFields(function(e,s){if(!e){var r={company:{ComGuid:s.ComGuid,ComName:s.ComName,Code:s.Code,CityCode:a.city.value,Url:s.Url,Address:s.Address,Nature:s.Nature,Scale:s.Scale,Industry:s.Industry,Remarks:s.Remarkspro}};t.$loading.open(),i["a"].post("/api/Crm/Com/Modify",r).then(function(e){t.$loading.close();var a=e;a.code>0?t.$message.error(a.msg):(t.onClose(),t.$message.success(a.msg))}).catch(function(e){t.$loading.close(),console.log(e)})}})},chooseArea:function(){this.drawer.area={show:!0}},areaClose:function(e){this.drawer.area={show:!1}},areaSure:function(e){this.city=e,this.drawer.area={show:!1},this.form.setFieldsValue({cityname:e.name})}}},n=o,p=t("2877"),u=Object(p["a"])(n,s,r,!1,null,null,null);a["default"]=u.exports}}]);